import{_ as h,b as u,o as l,c,j as w,v as T,d,e as f,F as M,k as E,l as _,w as $,t as m,m as A,M as O,n as N,q as C,s as B,r as D,x as k,f as V,g as I,y,z as F}from"./index-D3b4UV2O.js";import{T as z,B as x}from"./Btn-BCYVxqpn.js";const L={props:{label:{type:String,required:!0},id:{type:String,required:!0},item:{type:String,default:null},isNotDropDown:{type:Boolean,default:!1},modelValue:{type:[String,Number,null],default:""},options:{type:Array,default:[]},errors:{type:String,default:""}},data(){return{filterOptions:[],internalValue:this.modelValue,isDropDownVisible:!1}},watch:{modelValue(e){this.internalValue=e,this.filteredOptions()},internalValue(e){this.$emit("update:modelValue",e),this.filteredOptions()}},methods:{onInput(){this.filteredOptions()},filteredOptions(){this.internalValue?(this.item?this.filterOptions=this.options.filter(e=>e[this.item].toLowerCase().includes(this.internalValue.toLowerCase())):this.filterOptions=this.options.filter(e=>e.toLowerCase().includes(this.internalValue.toLowerCase())),this.isDropDownVisible=!0):(this.filterOptions=[],this.isDropDownVisible=!1),this.$emit("filtered-options",this.filterOptions)},selectOptions(e){this.internalValue=e,this.isDropDownVisible=!1},closeDropdown(){setTimeout(()=>{this.isDropDownVisible=!1},200)},onFocus(){this.filterOptions.length&&(this.isDropDownVisible=!0)}}},U={class:"autocomplete"},R=["id","placeholder"],P={key:0,class:"item"},q=["onMousedown"];function J(e,t,a,r,o,s){const n=u("font-awesome-icon");return l(),c("div",U,[w(d("input",{type:"text",id:a.id,"onUpdate:modelValue":t[0]||(t[0]=i=>o.internalValue=i),onInput:t[1]||(t[1]=(...i)=>s.onInput&&s.onInput(...i)),placeholder:a.label,onBlur:t[2]||(t[2]=(...i)=>e.closeDropDown&&e.closeDropDown(...i)),onFocus:t[3]||(t[3]=(...i)=>s.onFocus&&s.onFocus(...i))},null,40,R),[[T,o.internalValue]]),f(n,{icon:["fas","magnifying-glass"],class:"icon"}),o.filterOptions.length&&o.isDropDownVisible&&a.isNotDropDown?(l(),c("div",P,[(l(!0),c(M,null,E(o.filterOptions,(i,g)=>(l(),c("div",{key:g,onMousedown:$(v=>s.selectOptions(i),["prevent"])},m(i[a.item]),41,q))),128))])):_("",!0)])}const j=h(L,[["render",J],["__scopeId","data-v-f566c25d"]]),G={props:{variant:{type:String,default:"primary"},size:{type:String,default:"md"}},setup(e,{emit:t}){const a=A(()=>["btn",`btn-${e.variant}`,`btn-${e.size}`]);function r(){t("click")}return{buttonClasses:a,handleClick:r}}},H={class:"check",type:"checkbox"};function K(e,t,a,r,o,s){return l(),c("input",H)}const Q=h(G,[["render",K],["__scopeId","data-v-4f4b103c"]]),W={components:{CheckBox:Q,MenuPopover:O},props:{itemName:{type:String,default:""},itemChip:{type:[Object,String,null],default:null},item:{type:Object},listAction:{type:Array,default:[]}},data(){return{classChipCategoria:"item-chip"}},watch:{itemChip:{handler(){this.onInit()},deep:!0}},mounted(){this.onInit()},methods:{onInit(){this.itemChip!==null&&(this.classChipCategoria=`item-chip item-chip-${this.itemChip.nome}`)},acao(e,t){this.$emit("action",e,t)}}},X={class:"list-item"},Y={class:"item-name"};function Z(e,t,a,r,o,s){const n=u("CheckBox"),i=u("MenuPopover");return l(),c("div",X,[f(n),d("div",Y,m(a.itemName),1),a.itemChip!==null?(l(),c("div",{key:0,class:N(o.classChipCategoria)},m(a.itemChip.nome),3)):_("",!0),f(i,{listAction:a.listAction,item:a.item,onAction:s.acao},null,8,["listAction","item","onAction"])])}const ee=h(W,[["render",Z],["__scopeId","data-v-5afbcdc4"]]),te={components:{ItemList:ee},props:{itenslist:{type:Array,default:[]},listAction:{type:Array,default:[]}},data(){return{}},methods:{acao(e,t){this.$emit("action",e,t)}}},ae={class:"autocomplete"},oe={class:"list"};function ie(e,t,a,r,o,s){const n=u("ItemList");return l(),c("div",ae,[d("div",oe,[(l(!0),c(M,null,E(a.itenslist,(i,g)=>(l(),C(n,{key:g,itemName:i.name,itemChip:i.categoria,listAction:a.listAction,item:i,onAction:s.acao},null,8,["itemName","itemChip","listAction","item","onAction"]))),128))])])}const se=h(te,[["render",ie],["__scopeId","data-v-48c18109"]]),ne={props:{show:{type:Boolean,default:!1}},setup(e,{emit:t}){function a(){t("close")}return{closeModal:a}}},le={key:0,class:"modal"},re={class:"modal-content"};function ce(e,t,a,r,o,s){const n=u("font-awesome-icon");return a.show?(l(),c("div",le,[d("div",re,[f(n,{class:"close",icon:["fas","xmark"],onClick:r.closeModal},null,8,["onClick"]),B(e.$slots,"default",{},void 0)])])):_("",!0)}const de=h(ne,[["render",ce],["__scopeId","data-v-4f53c075"]]),ue={props:{label:{type:String,required:!0},id:{type:String,required:!0},value:{type:[String,Number],default:""},rows:{type:Number,default:3},cols:{type:Number,default:30},disabled:{type:Boolean,default:!1},errors:{type:String,default:""}},setup(e,{emit:t}){const a=D(e.value);return{internalValue:a,updateValue:o=>{a.value=o.target.value,t("update:modelValue",a.value)}}}},fe={class:"text-area"},me=["for"],pe=["id","rows","cols","disabled"];function he(e,t,a,r,o,s){return l(),c("div",fe,[d("label",{for:a.id},m(a.label),9,me),w(d("textarea",{id:a.id,"onUpdate:modelValue":t[0]||(t[0]=n=>r.internalValue=n),onInput:t[1]||(t[1]=(...n)=>r.updateValue&&r.updateValue(...n)),rows:a.rows,cols:a.cols,disabled:a.disabled},null,40,pe),[[T,r.internalValue]])])}const ge=h(ue,[["render",he],["__scopeId","data-v-cfdc3036"]]),_e={name:"RadioButton",props:{modelValue:{type:[String,Number]},options:{type:Array,required:!0},label:{type:String}},data(){return{selectedValue:this.modelValue}},watch:{modelValue(e){this.selectedValue=e}},methods:{updateValue(){this.$emit("update:modelValue",this.selectedValue)}}},ve={class:"radio-container"},be={key:0},ye=["id","value"],Ve=["for"];function Ce(e,t,a,r,o,s){return l(),c("div",ve,[a.label?(l(),c("label",be,m(a.label),1)):_("",!0),(l(!0),c(M,null,E(a.options,n=>(l(),c("div",{key:n.value,class:"radio-option"},[w(d("input",{type:"radio",id:n.value,value:n.value,"onUpdate:modelValue":t[0]||(t[0]=i=>o.selectedValue=i),onChange:t[1]||(t[1]=(...i)=>s.updateValue&&s.updateValue(...i))},null,40,ye),[[k,o.selectedValue]]),d("label",{for:n.value},m(n.text),9,Ve)]))),128))])}const we=h(_e,[["render",Ce],["__scopeId","data-v-0cf0c378"]]),p={categoria:{URGENTE:{codigo:0,nome:"Urgente"},IMPORTANTE:{codigo:1,nome:"Importante"}}},Me={components:{Modal:de,TextField:z,Textarea:ge,Btn:x,RadioButton:we},props:{showModal:{type:Boolean,default:!1},tarefaEdicao:{type:Object}},data(){return{tarefa:{codigo:null,name:null,descricao:null,categoria:null},isEdicao:!1,opcoes:[{text:p.categoria.URGENTE.nome,value:p.categoria.URGENTE.codigo},{text:p.categoria.IMPORTANTE.nome,value:p.categoria.IMPORTANTE.codigo}]}},watch:{tarefaEdicao:{handler(){this.onInit()},deep:!0}},mounted(){this.onInit()},methods:{onInit(){var e;this.tarefaEdicao.codigo!==null?(this.isEdicao=!0,this.tarefa=this.tarefaEdicao,this.tarefa={codigo:this.tarefaEdicao.codigo,name:this.tarefaEdicao.name,descricao:this.tarefaEdicao.descricao,isFinalizado:this.tarefaEdicao.isFinalizado,categoria:(e=this.tarefaEdicao.categoria)==null?void 0:e.codigo}):(this.tarefa={codigo:null,name:null,descricao:null,isFinalizado:!1,categoria:null},this.isEdicao=!1)},getCategoriaByCodigo(e){for(let t in p.categoria)if(p.categoria[t].codigo===e)return p.categoria[t];return null},adicionar(){const e=JSON.parse(localStorage.getItem("tarefas"))||[];let t=null;this.tarefa.categoria&&(t=this.getCategoriaByCodigo(this.tarefa.categoria)),e.push({codigo:e.length+1,name:this.tarefa.name,descricao:this.tarefa.descricao,isFinalizado:this.isFinalizado!==null?this.isFinalizado:!1,categoria:t}),localStorage.setItem("tarefas",JSON.stringify(e)),this.fecharModal()},editar(){let e=JSON.parse(localStorage.getItem("tarefas"))||[],t=null;(this.tarefa.categoria==0||this.tarefa.categoria==1)&&(t=this.getCategoriaByCodigo(this.tarefa.categoria)),e=e.map(a=>a.codigo===this.tarefa.codigo?(this.tarefa.categoria=t,{...a,...this.tarefa}):a),localStorage.setItem("tarefas",JSON.stringify(e)),this.fecharModal()},fecharModal(){this.$emit("update:tarefaEdicao",{codigo:null,name:null,descricao:null,categoria:null}),this.$emit("closeModal")},updateTarefaName(e){this.tarefa.name=e,this.$emit("update:tarefaEdicao",{...this.tarefaEdicao,name:e})},updateTarefaDescricao(e){this.tarefa.descricao=e,this.$emit("update:tarefaEdicao",{...this.tarefaEdicao,descricao:e})}}},Ee={class:"coluna"};function Ie(e,t,a,r,o,s){const n=u("TextField"),i=u("Textarea"),g=u("RadioButton"),v=u("Btn"),b=u("Modal");return l(),c("div",null,[f(b,{show:a.showModal,onClose:s.fecharModal},{default:V(()=>[d("h2",null,m(e.$t("tarefas.cadastrarTarefa")),1),f(n,{label:e.$t("tarefas.titulo"),id:"titulo",value:o.tarefa.name,"onUpdate:modelValue":s.updateTarefaName},null,8,["label","value","onUpdate:modelValue"]),f(i,{value:o.tarefa.descricao,"onUpdate:modelValue":s.updateTarefaDescricao,label:e.$t("tarefas.descricao"),rows:10,cols:10,id:"descricao"},null,8,["value","onUpdate:modelValue","label"]),d("div",Ee,[f(g,{modelValue:o.tarefa.categoria,"onUpdate:modelValue":t[0]||(t[0]=S=>o.tarefa.categoria=S),options:o.opcoes},null,8,["modelValue","options"]),o.isEdicao?_("",!0):(l(),C(v,{key:0,variant:"primary",size:"lg",onClickButton:s.adicionar},{default:V(()=>[I(m(e.$t("tarefas.txtAdicionar")),1)]),_:1},8,["onClickButton"])),o.isEdicao?(l(),C(v,{key:1,variant:"primary",size:"lg",onClickButton:s.editar},{default:V(()=>[I(m(e.$t("tarefas.txtEditar")),1)]),_:1},8,["onClickButton"])):_("",!0)])]),_:1},8,["show","onClose"])])}const Te=h(Me,[["render",Ie],["__scopeId","data-v-0a440499"]]),Oe={name:"Home",components:{Autocomplete:j,MenuPopover:O,List:se,ModalTarefas:Te},data(){return{busca:"",label:y.getTranslation("home.txtBusca"),subtitulo:"",showModal:!1,tarefa:{codigo:null,name:null,descricao:null,categoria:null},items:[{codigo:0,name:"Planejar desenvolvimento do app TodoList",isFinalizado:!0,categoria:p.categoria.URGENTE},{codigo:1,name:"Criar projeto Vuejs",isFinalizado:!1,categoria:p.categoria.IMPORTANTE},{codigo:2,name:"Montar telas HTML/CSS",isFinalizado:!1,categoria:null},{codigo:3,name:"Separar componentes",isFinalizado:!1,categoria:null},{codigo:4,name:"Programar componentes",isFinalizado:!1,categoria:null}],filteredOptions:[],listAction:[{name:y.getTranslation("home.txtEditar"),icon:["fas","circle"],color:"#5ECDA5",action:"editar"},{name:y.getTranslation("home.txtExcluir"),icon:["fas","circle"],color:"#D6E6EF",action:"excluir"}]}},mounted(){this.init()},methods:{updateFilteredOptions(e){this.filteredOptions=e},quantidadePendentes(){return this.items.filter(e=>!e.isFinalizado).length},init(){this.atualizarLista();const e=F.getNomeUsuario(),t=this.quantidadePendentes();this.subtitulo=y.getTranslation("home.msgBemVindo",e,t)},atualizarLista(){const e=JSON.parse(localStorage.getItem("tarefas"))||[];e.length>0&&(localStorage.setItem("tarefas",JSON.stringify(this.items)),this.items=e)},abrirModal(e){this.tarefa=e||{codigo:null,name:null,descricao:null,categoria:null},this.showModal=!0},fecharModal(){this.showModal=!1,this.tarefa={codigo:null,name:null,descricao:null,categoria:null},this.atualizarLista()},excluir(e){const t=JSON.parse(localStorage.getItem("tarefas"))||[];if(t.length>0){const a=t.filter(r=>r.name!==e.name);localStorage.setItem("tarefas",JSON.stringify(a)),this.items=a}},editar(e){this.abrirModal(e)},onMenuAction(e,t){e==="excluir"?this.excluir(t):e==="editar"&&this.editar(t)}}},Se={class:"home"},$e={class:"titulo"},Ae={class:"titulo-home"},Ne={class:"subtitulo-home"},Be={class:"grid"};function De(e,t,a,r,o,s){const n=u("Autocomplete"),i=u("List"),g=u("font-awesome-icon"),v=u("ModalTarefas");return l(),c("div",Se,[d("div",$e,[d("h1",Ae,m(e.$t("home.titulo")),1),d("h2",Ne,m(e.subtitulo),1)]),d("div",Be,[f(n,{label:e.label,id:e.label,options:e.items,item:"name",modelValue:e.busca,"onUpdate:modelValue":t[0]||(t[0]=b=>e.busca=b),onFilteredOptions:e.updateFilteredOptions},null,8,["label","id","options","modelValue","onFilteredOptions"]),f(i,{itenslist:e.busca!==""?e.filteredOptions:e.items,listAction:e.listAction,onAction:e.onMenuAction},null,8,["itenslist","listAction","onAction"])]),d("div",{class:"btn-icon",onClick:t[1]||(t[1]=b=>e.abrirModal())},[d("button",null,[f(g,{icon:["fas","plus"]})])]),f(v,{showModal:e.showModal,onCloseModal:e.fecharModal,tarefaEdicao:e.tarefa},null,8,["showModal","onCloseModal","tarefaEdicao"])])}const ze=h(Oe,[["render",De],["__scopeId","data-v-38b765ab"]]);export{ze as default};
